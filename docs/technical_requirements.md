# 1. Цель проекта

Цель проекта - разработать систему контроля личных расходов (далее Система). Пользователь сможет настравиать свои категории покупок добавлять покупки в систему, как вручную так и отскаировав Qr код чека или передав данные чека. Получать сводку о затратах, и настраивать свои шаблоны для получения сводки (выбор категорий, количество дней). Вести свою долговую книжку: записывать и отслеживать кто или кому сколько должен. К записи в долговой книжке можно будет привязать другого пользователя, который будет получать уведомления об изменениях. Разработать функционал на базе API банка Тинкофф, для получения подробной информации об инвестиционном счете.

Взаимодействие с системой будет осуществлятся по API.

Взаимодействие пользователя в рамках проекта будет осуществеленно с помощью Telegram бота. В дальнейшем если проект будет успешным, планируется разработать мобильное приложение и сайт и расширить функционал.
***
# 2. Описание системы
Система состоит из следующих основноых функциональных блоков

1. Регистрация и настройка пользователя
2. Добавление и удаление покупок
3. Стандартных вывод покупок (день, неделя, месяц, год)
4. Настрока шаблонов для вывода покупок (выбор категорий, количество дней)
5. Долговая книжка
6. Категории покупок


## 2.1 Регистрация

При регистрации нового пользователя в формате json передаются данные пользователя:

* Имя
* Фамилия
* Платформа (telegram, mobile)
* ID (в случае если используемая платформа - telegram)
* Email (в случае если платформа - mobile)

В системе присваивается уникальный ID пользователю и отсылается обратно


*Регистрация пользователя*
**POST funny-code.ru/api/{token}/v1/user/**

*Получение информации о пользователе*
**GET funny-code.ru/api/{token}/v1/user/settings/**

*Изменение информации о пользователе*
**PUT/PATCH funny-code.ru/api/{token}/v1/user/settings/**


## 2.2 Добавление и удаление покупок

В данном функционале 2 варианта:
1. Пользователь добавляет покупку вручную
    *Добавление покупок*
    **POST funny-code.ru/api/{token}/v1/user/purchase/**
    ```
    {
        "user_id" : 123,
        "amount" : 80,
        "category" : "Продукты",
        "items" : {
            {
                "description" : "Картофель",
                "amount" : 50
            },
            {
                "description" : "Морковь",
                "amount" : 30
            }
        }
    }
    ```
2. Пользователь фотографирует QR-код или передаёт данные чека
    *Добавление покупок*
    **POST funny-code.ru/api/{token}/v1/user/purchase**
    ```
    {
        "user_id" : 123,
        "data" :{
            "данные чека"
        }
    }
    ```
## 2.3 Стандартный вывод покупок
Стандартный вывод покупок предусматривает 4 типа:

1. Вывод покупок за сегодня
2. Вывод покупок за неделю
3. Вывод покупок за месяц
4. Вывод покупок за год

*Сегодня*
**GET funny-code.ru/api/{token}/v1/user/purchase/output/today/**

*Неделя*
**GET funny-code.ru/api/{token}/v1/user/purchase/output/week/**

*Месяц*
**GET funny-code.ru/api/{token}/v1/user/purchase/output/month/**

*Год*
**GET funny-code.ru/api/{token}/v1/user/purchase/output/year/**

```
{
    "user_id" : 123,
}
```


## 2.4 Настрока шаблонов покупок

## 2.5 Долговая книжка

## 2.6 Категории покупок

***

# Предлагаемый стек технологий

* API
    - Язык программирования Python
    - Фреймворк Flask
    - БД PostgreSQL
    - SQLAlchemy ORM

* Telegram бот
    - Язык программирования Python
    - Фреймворк Aiogram
    - БД PostgreSQL






























